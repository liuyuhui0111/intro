webpackJsonp([26],{"6Qob":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("bOdI"),i=n.n(s),o=n("tQ/e"),a=n("P9l9"),r={beforeRouteEnter:function(t,e,n){n()},data:function(){return i()({name:"page",username:"",password:sessionStorage.getItem("loginpwd")||"",user:{photo:"/static/imgs/icon-phone.png"},tel:sessionStorage.getItem("logintel")||"",code:sessionStorage.getItem("logincode")||"",isFocusTel:!1,isFocusPwd:!1,isPoneAvailableFlag:"0"!=sessionStorage.getItem("loginphoneFlag"),codeStr:"获取验证码",isCanSendCode:!0,isGray:!1,isChecked:!0,loginType:1,isShowPwd:!1,inviteUId:""},"isChecked",!0)},mounted:function(){this.init()},watch:{tel:"telChangeFn",$route:function(t,e){}},computed:{},methods:{init:function(){this.getInviteUId||(this.inviteUId=Object(o.l)("managerUId")||"",this.setInviteUId(this.inviteUId))},goPage:function(t){sessionStorage.setItem("loginphoneFlag",this.isPoneAvailableFlag?"":"0"),sessionStorage.setItem("loginpwd",this.password),sessionStorage.setItem("logintel",this.tel),sessionStorage.setItem("logincode",this.code),this.$router.push({path:t})},routerGo:function(t){sessionStorage.setItem("loginphoneFlag",this.isPoneAvailableFlag?"":"0"),sessionStorage.setItem("loginpwd",this.password),sessionStorage.setItem("logintel",this.tel),sessionStorage.setItem("logincode",this.code),this.$router.push({path:t})},changeLoginType:function(){0==this.loginType?this.loginType=1:this.loginType=0},subFn:function(){var t=this,e=this.tel.replace(/\s+/g,""),n=this.code.trim(),s=this.password.trim();if(this.isPoneAvailableFlag=Object(o.n)(e),e)if(this.isPoneAvailableFlag)if(n||1!=this.loginType)if(isNaN(n)&&1==this.loginType)this.$createToast({txt:"验证码格式有误",time:2e3,type:"warn"}).show();else{if(!s&&0==this.loginType)return this.$createToast({txt:"请输入登录密码",time:2e3,type:"warn"}).show(),!1;if(!Object(o.f)(s)&&0==this.loginType)return this.$createToast({txt:"登录密码格式错误，请重新输入",time:2e3,type:"warn"}).show(),!1;if(!this.isChecked&&1==this.loginType)return this.$createToast({txt:"请阅读并同意注册协议",time:2e3,type:"warn"}).show(),!1;var i={mobile:e,password:0==this.loginType?this.rsa(Object(o.q)(Object(o.q)(s)+e)):"",smCode:1==this.loginType?n:"",inviteUId:this.getInviteUId,smCodeType:3,openId:this.getOpenId||""};if(!this.isCanRequest)return!1;this.isCanRequest=!1,Object(a.m)(i).then(function(e){t.isCanRequest=!0,"200"==e.data.code?(t.setToken(e.data.data.token||""),t.getToHref||t.getTo?t.getTo?t.$router.replace({path:t.getTo.path,query:t.getTo.query}):t.$router.replace({path:t.getToHref}):t.$router.replace({path:"/personalCenter"})):t.$createToast({txt:e.data.message,time:2e3,type:"warn"}).show()},function(e){t.isCanRequest=!0})}else this.$createToast({txt:"请填写验证码",time:2e3,type:"warn"}).show();else this.$createToast({txt:"手机号格式不正确",time:2e3,type:"warn"}).show();else this.$createToast({txt:"请填写手机号",time:2e3,type:"warn"}).show()},rsa:function(t){var e=new JSEncrypt;return e.setPublicKey(this.publicKey),e.encrypt(t)},telChangeFn:function(){var t=this.tel.replace(/\s+/g,"");this.isPoneAvailableFlag=Object(o.n)(t),t.length>3&&t.length<=7?this.tel=t.substring(0,3)+" "+t.substring(3):t.length>7?this.tel=t.substring(0,3)+" "+t.substring(3,7)+" "+t.substring(7):this.tel=t.trim()},sendCodeFn:function(){var t=this,e=this.tel.replace(/\s+/g,"");if(this.isPoneAvailableFlag=Object(o.n)(e),e)if(this.isPoneAvailableFlag){if(this.isCanSendCode){this.isCanSendCode=!1;var n={mobile:e,type:"3"};Object(a.F)(n).then(function(e){"200"==e.data.code?t.startCodeStrChange():(t.$createToast({txt:e.data.message,time:2e3,type:"warn"}).show(),t.isCanSendCode=!0,t.isGray=!1,t.codeStr="重新发送验证码")},function(e){t.$createToast({txt:"请求超时，请稍后再试",time:2e3,type:"warn"}).show(),t.isCanSendCode=!0,t.isGray=!1,t.codeStr="重新发送验证码"})}}else this.$createToast({txt:"手机号格式不正确",time:2e3,type:"warn"}).show();else this.$createToast({txt:"请填写手机号",time:2e3,type:"warn"}).show()},startCodeStrChange:function(){var t=this,e=60;this.isGray=!0,this.codeStr=e+"s后重新获取";var n=setInterval(function(){e<1?(t.isGray=!1,t.isCanSendCode=!0,t.codeStr="重新发送验证码",clearInterval(n)):(t.isGray=!0,e-=1,t.codeStr=e+"s后重新获取")},1e3)}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("img",{staticClass:"topbg",attrs:{src:"/static/imgs/bg.png",alt:""}}),t._v(" "),n("div",{staticClass:"inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],staticClass:"tel",class:{on:!t.isPoneAvailableFlag&&""!=t.tel},attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.tel},on:{focus:function(e){t.isFocusTel=!0},blur:function(e){t.isFocusTel=!1},input:function(e){e.target.composing||(t.tel=e.target.value)}}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.isFocusTel&&""!=t.tel,expression:"isFocusTel && tel!=''"}],staticClass:"clear",on:{click:function(e){t.tel=""}}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.loginType,expression:"loginType==1"}],staticClass:"inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("span",{staticClass:"sendCode cr_blue",class:{gray:t.isGray},domProps:{textContent:t._s(t.codeStr)},on:{click:t.sendCodeFn}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.loginType,expression:"loginType==0"}],staticClass:"inp pwd"},["checkbox"==(t.isShowPwd?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"请输入登录密码",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{focus:function(e){t.isFocusPwd=!0},blur:function(e){t.isFocusPwd=!1},change:function(e){var n=t.password,s=e.target,i=!!s.checked;if(Array.isArray(n)){var o=t._i(n,null);s.checked?o<0&&(t.password=n.concat([null])):o>-1&&(t.password=n.slice(0,o).concat(n.slice(o+1)))}else t.password=i}}}):"radio"==(t.isShowPwd?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"请输入登录密码",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{focus:function(e){t.isFocusPwd=!0},blur:function(e){t.isFocusPwd=!1},change:function(e){t.password=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"请输入登录密码",type:t.isShowPwd?"text":"password"},domProps:{value:t.password},on:{focus:function(e){t.isFocusPwd=!0},blur:function(e){t.isFocusPwd=!1},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.isFocusPwd&&""!=t.password,expression:"isFocusPwd && password!=''"}],staticClass:"clear",on:{click:function(e){t.password=""}}}),t._v(" "),n("span",{staticClass:"eye",class:{on:t.isShowPwd},on:{click:function(e){t.isShowPwd=!t.isShowPwd}}})]),t._v(" "),n("div",{staticClass:"xy_box forgetPwd"},[n("span",{directives:[{name:"show",rawName:"v-show",value:1==t.loginType,expression:"loginType==1"}],on:{click:function(e){t.isChecked=!t.isChecked}}},[n("i",{staticClass:"btn_check",class:{on:t.isChecked}}),t._v("同意")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==t.loginType,expression:"loginType==1"}],staticClass:"cr_blue",on:{click:function(e){t.goPage("/userRegProtocol")}}},[t._v("《注册协议》")]),t._v(" "),n("span",{staticClass:"fr",on:{click:function(e){t.routerGo("/editPassword")}}},[t._v("忘记密码")])]),t._v(" "),n("span",{staticClass:"btn_sub",on:{click:t.subFn}},[t._v("登录")]),t._v(" "),n("div",{staticClass:"clr"},[n("div",{staticClass:"fl",on:{click:t.changeLoginType}},[n("span",{directives:[{name:"show",rawName:"v-show",value:0==t.loginType,expression:"loginType==0"}]},[t._v("验证码登录")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==t.loginType,expression:"loginType==1"}]},[t._v("密码登录")])]),t._v(" "),n("div",{staticClass:"fr",on:{click:function(e){t.routerGo("/reg")}}},[t._v("新用户注册")])])])},staticRenderFns:[]};var d=n("VU/8")(r,l,!1,function(t){n("KqRt")},"data-v-d65268fe",null);e.default=d.exports},KqRt:function(t,e,n){var s=n("oas5");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n("rjj0")("00a04890",s,!0,{})},oas5:function(t,e,n){var s=n("kxFB");(t.exports=n("FZ+f")(!1)).push([t.i,"\nbody[data-v-d65268fe],\r\n.page[data-v-d65268fe]{\r\n\tbackground: #fff;\r\n\tmin-height: 100%;\n}\n.topbg[data-v-d65268fe]{\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: auto;\n}\n.forgetPwd[data-v-d65268fe]{\r\n\tdisplay: block;\r\n\twidth: 310px;\r\n\tfont-size: 14px;\r\n\tcolor: #888888;\r\n\tletter-spacing: 0;\r\n\ttext-align: right;\r\n\tmargin: 12px auto;\n}\n.clr[data-v-d65268fe]{\r\n\tfont-size: 15px;\r\ncolor: #BF965A;\r\nletter-spacing: 0;\r\noverflow: hidden;\r\nwidth: 310px;\r\nmargin: 0 auto;\r\npadding-top: 22px;\n}\n.fl[data-v-d65268fe]{\r\n\tfloat: left;\n}\n.fr[data-v-d65268fe]{\r\n\tfloat: right;\n}\n.cr_blue[data-v-d65268fe]{\r\n\t\tcolor: #3C9AFC;\n}\n.cr_blue.gray[data-v-d65268fe],\r\n\t.cr_gray[data-v-d65268fe]{\r\n\t\tcolor: #888888;\n}\n.sendCode[data-v-d65268fe]{\r\n\t\tfont-size: 14px;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 20px;\n}\n.xy_box[data-v-d65268fe]{\r\n\t\twidth: 310px;\r\n\t\tmargin: 10px auto 0 auto;\r\n\t\ttext-align: left;\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 18px;\r\n\t\theight: 18px;\r\n\t\tpadding-left: 24px;\r\n\t\tposition: relative;\r\n\t\t-webkit-box-sizing:border-box;\r\n\t\t        box-sizing:border-box;\n}\n.xy_box span[data-v-d65268fe]{\r\n\t\tmargin-right: 5px;\n}\n.btn_sub[data-v-d65268fe]{\r\n\t\tdisplay: block;\r\n\t\twidth: 310px;\r\n\t\theight: 45px;\r\n\t\tline-height: 45px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #1C0F00;\r\n\t\tbackground-image: -webkit-linear-gradient(224deg, #BF965A 0%, #EDCE97 100%);\r\n\t\tbackground-image: linear-gradient(-134deg, #BF965A 0%, #EDCE97 100%);\r\n\t\tborder-radius: 100px;\r\n\t\tmargin: 24px auto 0 auto;\n}\n.user_img_box[data-v-d65268fe]{\r\n\t\theight: 228px;\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\tdisplay: -moz-flex;\r\n\t\tdisplay: -ms-flex;\r\n\t\tdisplay: -o-flex;\r\n\t\tdisplay: -webkit-box;\r\n\t\tdisplay: -ms-flexbox;\r\n\t\tdisplay: flex;\r\n\t\t-webkit-box-align: center;\r\n\t\t    -ms-flex-align: center;\r\n\t\t        align-items: center;\r\n\t\t-webkit-box-pack: center;\r\n\t\t    -ms-flex-pack: center;\r\n\t\t        justify-content: center;\n}\n.user_img_box img[data-v-d65268fe]{\r\n\t\twidth: 138px;\r\n\t\theight: auto;\n}\n.inp[data-v-d65268fe]{\r\n\t\twidth: 310px;\r\n\t\tmargin: 16px auto 0 auto;\r\n\t\theight: 56px;\r\n\t\tpadding: 16px 60px 14px 0;\r\n\t\t-webkit-box-sizing:border-box;\r\n\t\t        box-sizing:border-box;\r\n\t\tposition: relative;\r\n\t\tborder-bottom: 1px solid #ddd;\n}\n.inp input[data-v-d65268fe]{\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #1C0F00;\r\n\t\tdisplay: block;\r\n\t\ttext-align: left;\r\n\t\twidth: 100%;\r\n\t\theight: 26px;\r\n\t\tline-height: 26px;\r\n\t\toutline: none;\n}\n.inp .tel.on[data-v-d65268fe]{\r\n\t\tcolor: #F75F30;\n}\n.btn_check[data-v-d65268fe]{\r\n\t\tdisplay: block;\r\n\t\twidth: 18px;\r\n\t\theight: 18px;\r\n\t\tbackground: url("+s(n("oQhT"))+") no-repeat center center;\r\n\t\tbackground-size: 18px auto;\r\n\t\tposition: absolute;\r\n\t    left: 0;\r\n\t    top: 0;\n}\n.btn_check.on[data-v-d65268fe]{\r\n\t\tbackground-image: url("+s(n("0eFA"))+");\n}\n.clear[data-v-d65268fe]{\r\n\t\tdisplay: block;\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tbackground: url("+s(n("oCc0"))+") no-repeat center center;\r\n\t\tbackground-size: 18px auto;\r\n\t\tposition: absolute;\r\n\t    right: 0px;\r\n\t    top: 18px;\n}\n.pwd .clear[data-v-d65268fe]{\r\n\t\tright:30px;\n}\n.eye[data-v-d65268fe]{\r\n\t\tdisplay: block;\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tbackground: url("+s(n("H2nE"))+") no-repeat center center;\r\n\t\tbackground-size: 18px auto;\r\n\t\tposition: absolute;\r\n\t    right: 0;\r\n\t    top: 16px;\n}\n.eye.on[data-v-d65268fe]{\r\n\t\tbackground-image: url("+s(n("t4LH"))+");\r\n\t\ttop: 18px;\n}\r\n",""])}});